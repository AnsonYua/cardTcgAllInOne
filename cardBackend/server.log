
> cardbackend@1.0.0 dev
> nodemon server.js

[33m[nodemon] 3.1.9[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node server.js`[39m
Loading DeckManager synchronously...
DeckManager initialized synchronously with 59 total cards
DeckManager already initialized synchronously
Server is running on port 8080
ğŸ”§ Initializing injected game state with proper leader sequence...
   ğŸ¯ Leaders found in zones but not in play sequence - recording leader plays...
ğŸ¯ Recorded PLAY_LEADER: s-1 by playerId_1 in leader (sequence: 1)
   âœ… Recorded leader play: s-1 for playerId_1
ğŸ¯ Recorded PLAY_LEADER: s-6 by playerId_2 in leader (sequence: 2)
   âœ… Recorded leader play: s-6 for playerId_2
   ğŸ”„ Running unified effect simulation for all plays...
ğŸ¬ Starting unified effect simulation (single source of truth)...
âœ… Initialized fieldEffects structure for all players
ğŸ“‹ Replaying 2 plays directly on gameEnv.players[].fieldEffects...
â–¶ï¸ Executing play 1: PLAY_LEADER s-1 by playerId_1
ğŸ›ï¸ Processing leader s-1 effects for playerId_1 (unified)...
ğŸ”’ Applied zone restrictions to playerId_1: {
  TOP: [ 'å³ç¿¼', 'è‡ªç”±', 'ç¶“æ¿Ÿ' ],
  LEFT: [ 'å³ç¿¼', 'è‡ªç”±', 'æ„›åœ‹è€…' ],
  RIGHT: [ 'å³ç¿¼', 'æ„›åœ‹è€…', 'ç¶“æ¿Ÿ' ],
  HELP: [ 'ALL' ],
  SP: [ 'ALL' ]
}
ğŸ”„ Converting old effect format for leader s-1...
ğŸ”„ Converted old effect: powerBoost +45 for types: å³ç¿¼, æ„›åœ‹è€…
ğŸ”„ Converted old effect: setPower +0 for types: ç¶“æ¿Ÿ
âœ… Leader s-1 effects applied to unified structure
ğŸ­ Processing card effects for s-1 (unified)
âš¡ Checking triggered effects for s-1 (unified)
â–¶ï¸ Executing play 2: PLAY_LEADER s-6 by playerId_2
ğŸ›ï¸ Processing leader s-6 effects for playerId_2 (unified)...
ğŸ”’ Applied zone restrictions to playerId_2: {
  TOP: [ 'ç¶“æ¿Ÿ', 'è‡ªç”±' ],
  LEFT: [ 'ç¶“æ¿Ÿ', 'å·¦ç¿¼', 'å³ç¿¼' ],
  RIGHT: [ 'ç¶“æ¿Ÿ', 'å·¦ç¿¼', 'å³ç¿¼' ],
  HELP: [ 'ALL' ],
  SP: [ 'ALL' ]
}
ğŸ”„ Converting old effect format for leader s-6...
ğŸ”„ Converted old effect: powerBoost +30 for types: è‡ªç”±, ç¶“æ¿Ÿ
ğŸ”„ Converted old effect: powerBoost +20 for types: ç¶“æ¿Ÿ
âœ… Leader s-6 effects applied to unified structure
ğŸ­ Processing card effects for s-6 (unified)
âš¡ Checking triggered effects for s-6 (unified)
ğŸ”¢ Calculating final power values (unified)...
âœ… Final power calculation completed (unified)
âœ… Unified simulation completed - all effects available in gameEnv.players[].fieldEffects
   âœ… Unified effect simulation completed - all effects in gameEnv.players[].fieldEffects
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
Loading DeckManager synchronously...
DeckManager initialized synchronously with 59 total cards
DeckManager already initialized synchronously
Server error: Error: listen EADDRINUSE: address already in use :::8080
    at Server.setupListenHandle [as _listen2] (node:net:1939:16)
    at listenInCluster (node:net:1996:12)
    at Server.listen (node:net:2101:7)
    at Function.listen (/Users/hello/Desktop/card/unity/cardGameRevamp/cardBackend/node_modules/express/lib/application.js:635:24)
    at startServer (/Users/hello/Desktop/card/unity/cardGameRevamp/cardBackend/server.js:35:22)
    at Object.<anonymous> (/Users/hello/Desktop/card/unity/cardGameRevamp/cardBackend/server.js:73:1)
    at Module._compile (node:internal/modules/cjs/loader:1734:14)
    at Object..js (node:internal/modules/cjs/loader:1899:10)
    at Module.load (node:internal/modules/cjs/loader:1469:32)
    at Function._load (node:internal/modules/cjs/loader:1286:12) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 8080
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
Loading DeckManager synchronously...
DeckManager initialized synchronously with 59 total cards
DeckManager already initialized synchronously
Server error: Error: listen EADDRINUSE: address already in use :::8080
    at Server.setupListenHandle [as _listen2] (node:net:1939:16)
    at listenInCluster (node:net:1996:12)
    at Server.listen (node:net:2101:7)
    at Function.listen (/Users/hello/Desktop/card/unity/cardGameRevamp/cardBackend/node_modules/express/lib/application.js:635:24)
    at startServer (/Users/hello/Desktop/card/unity/cardGameRevamp/cardBackend/server.js:35:22)
    at Object.<anonymous> (/Users/hello/Desktop/card/unity/cardGameRevamp/cardBackend/server.js:73:1)
    at Module._compile (node:internal/modules/cjs/loader:1734:14)
    at Object..js (node:internal/modules/cjs/loader:1899:10)
    at Module.load (node:internal/modules/cjs/loader:1469:32)
    at Function._load (node:internal/modules/cjs/loader:1286:12) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 8080
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
Loading DeckManager synchronously...
DeckManager initialized synchronously with 59 total cards
DeckManager already initialized synchronously
Server error: Error: listen EADDRINUSE: address already in use :::8080
    at Server.setupListenHandle [as _listen2] (node:net:1939:16)
    at listenInCluster (node:net:1996:12)
    at Server.listen (node:net:2101:7)
    at Function.listen (/Users/hello/Desktop/card/unity/cardGameRevamp/cardBackend/node_modules/express/lib/application.js:635:24)
    at startServer (/Users/hello/Desktop/card/unity/cardGameRevamp/cardBackend/server.js:35:22)
    at Object.<anonymous> (/Users/hello/Desktop/card/unity/cardGameRevamp/cardBackend/server.js:73:1)
    at Module._compile (node:internal/modules/cjs/loader:1734:14)
    at Object..js (node:internal/modules/cjs/loader:1899:10)
    at Module.load (node:internal/modules/cjs/loader:1469:32)
    at Function._load (node:internal/modules/cjs/loader:1286:12) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 8080
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
Loading DeckManager synchronously...
DeckManager initialized synchronously with 59 total cards
DeckManager already initialized synchronously
Server is running on port 8080
